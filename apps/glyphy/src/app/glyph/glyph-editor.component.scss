@use "elx/a11y";
@use "elx/layout";
@use "elx/style/color";

:host {
	position: relative;
	@include layout.flex;
	width: 100%;
	height: 100%;
	background: color.background(200);

	&.pan-mode {
		cursor: grab;
	}

	&.panning {
		cursor: grabbing;
	}
}

.glyph {
	flex: 1 0 0;
}

.metrics {
	--metrics-color: #{color.foreground(500)};

	:host-context(.pan-mode) & {
		visibility: hidden;
	}
}

.outline {
	stroke: color.foreground() {
		width: calc(var(--path-thickness) * var(--scale-factor));
	}
	fill: color.foreground() {
		opacity: 0.1;
	}

	:host-context(.pan-mode) & {
		fill-opacity: 1;
	}
}

.points {
	:host-context(.pan-mode) & {
		visibility: hidden;
	}
}

.pointer {
	stroke: color.foreground(50, 0.1) {
		width: var(--metrics-thickness);
	}

	:host-context(.pan-mode) & {
		visibility: hidden;
	}
}

.ui-overlay {
	position: absolute;
	inset: 0;
	pointer-events: none;
}

.pointer-coords {
	@include layout.absolute(null, null, 0, 0);
	padding: a11y.rem(16);
	background: color.background(200);
	color: color.foreground(500);

	span {
		display: block;
	}
}

.metrics-text {
	// FIXME: This scales with the viewport height in a bad way.
	//        Using SVG for glyph rendering is becoming really problematic.
	font-size: a11y.rem(20);
	fill: color.foreground(500) {
		opacity: 0.6
	}
	user-select: none;

	&.base,
	&.background {
		fill-opacity: 1;
	}

	&.background {
		fill: color.background(200);
	}
}
