<ng-container *ngIf="ascender != null && descender != null">
<ng-container
	*ngIf="groupByCharacterSet && (unicodeGroups$ | async) as unicodeGroups
	else flat"
>
	<ng-container
		*ngFor="let group of unicodeGroups
			let groupIndex = index"
	>
		<section class="unicode-group"
			*ngIf="group.glyphs.length"
		>
			<h2 class="unicode-group__heading">
				{{ group.name }}
			</h2>
			<div class="glyphs"
				*elxDeferRenderWhen="groupIndex > 3
					proxy: dummyUnicodeGroup"
			>
				<div class="glyph"
					*ngFor="let glyph of group.glyphs
						let i = index"
					(dblclick)="openGlyph.emit(glyph)"
				>
					<svg class="glyph__svg"
						[g-glyph]="glyph"
						showMetrics
					></svg>
					<div class="glyph__label">
						<strong class="glyph__name">
							{{ glyph.name }}
						</strong>
						<span class="glyph__char-code"
							*ngIf="glyph.unicode != null"
						>
							{{ glyph.unicode | hex }}
						</span>
					</div>
				</div>
			</div>
		</section>
	</ng-container>
</ng-container>
</ng-container>

<ng-template #dummyUnicodeGroup>
	<div class="glyphs" style="height: 256px"></div>
</ng-template>

<ng-template #flat>
	<ng-container *ngIf="(font$ | async) as font">
		<div class="glyph"
			*ngFor="let glyph of font.glyphs"
			(dblclick)="openGlyph.emit(glyph)"
		>
			<svg class="glyph__svg"
				[g-glyph]="glyph"
				showMetrics
			></svg>
			<div class="glyph__label">
				<strong class="glyph__name">
					{{ glyph.name }}
				</strong>
				<span class="glyph__char-code"
					*ngIf="glyph.unicode != null"
				>
					{{ glyph.unicode | hex }}
				</span>
			</div>
		</div>
	</ng-container>
</ng-template>
